# 8 день. Машина фон Неймана

## Словарик программиста:



***

## Лирические отступления

> - Посмотри книгу Новикова по дискретной математике. Одна из лучших.
> - Пробегись заново по НАМ, МТ...

***

## 2.9 Модель фон Неймана. Критика модели

Мы доказали, что МТ может быть записана на OСТ, а дальше там один шаг до внедрения в компьютер (в режиме отладки/интерпретации).

> © На машине Тьюринга далеко не уедешь.

- Фон Нейман придумал архитектуру компьютера.
- Лента МТ — опрокинутый стек, работающий с крайними словами.
- Копирование действий в МТ занимает много времени. И это неудобно!
- А еще надо помнить про ситуации на ленте.
- В том числе язык ОСТ унаследовал проблемы МТ, т.е. саму громоздкость модели МТ (побуквенную обработку сообщений на ленте).
- Мы упростили алгоритм, но предъявили к нему высокие требования нормирования.
- Сложность МТ — O(n), где n — адрес слова.
- аывавываы



## Тезис Тьюринга-Чёрча

Все словесные алгоритмы полностью эквивалентны комбинаторным алгоритмам, МТ и проч.

- Этот тезис пока не опровергнут, и математики с этим мирятся.
- Доказав тезис, мы построили мостик к программированию.

`*Язык ОСТ* — полный по Тьюрингу, похожий на языки программирования.`

Кусок ленты с несколькими словами мы используем как хранилище.
- Наше богатство — удобный доступ.
- Слова "как бы пронумерованы", и по этим номерам мы бегаем.
- `Как бы пронумерованы` — значит номер слова не хранится рядом с ним. На ленте берётся адрес слова.
- Машины могут даже указывать и брать адрес слов из программы, которую указал программист

### НОД

- НОД — более сложная программа, чем вычитание, поэтому мы можем воспользоваться библиотекой.
- В алгоритме Евклида есть 2 слова, которые вычитаются друг из друга.
- Изначальные слова надо скопировать и положить в ячейки N3 и N4, работаем с копиями.
- Дальше делаем копии в ячейки 5 и 6, чтобы работа цикла продолжалась.
- Машина НОД - это аддитивный алгоритм Евклида!

!Проанализируй алгоритм более подробно.

- Вычитание не коммутативно, поэтому для нахождения НОД мы меняем местами операнды.
- Слова 3 и 4 — переменные, они меняются.
Но у них нет имён, поэтому это не настоящие переменные

> Имена переменных придумали математики! Понятию переменной всего лишь 400 лет!
> - Придумал его Франсуа Виет в 1591 г.

- На Тьюринге не было переменных, там всё время возникали новые копии.
- Здесь же 1 и 2 — слова-константы.

- Имя — это слово, содержащее буквы и цифры, сопоставимое номеру ячейки адреса.

## Как компилятор понимает имена?

> Предварительно в начале программы мы задаём имена!
> - При этом имена должны быть **сертифицированы**
- Компилятор составляет таблицу имен, и каждому элементу отводит память, заменяя имена адресами.
- Потом линкер подстраивает имена в адреса, а затем и сам Unix.

Здесь есть разве что технические проблемы, а так всё это алгоритмически разрешимо.

Работа с именами ведётся через таблицу.
Это удобно, ибо имена задаются со смыслом, и через время человек не теряет понимания смысла кода.

Чтобы что-то делать, нам нужна библиотека. Это участок УМТ, называемый D-лентой.

Наша цель — создать ***машину с операциями***, в неё `должна быть заложена арифметика`, чтобы ускорить программирование.
> Вспоминаем алгоритм Евклида.

- Литерный процесс (буквенный) — сама МТ.
- Строковый процесс (строки состоят из литер)

## Как быть, когда пришла новая наука?

Надо понять, какая у неё алгебраическая основа.

Поняв структуру науки, мы можем запрограммировать все необходимые операции.

- ***Операнды*** — объекты операций.
- ***Местность операции*** — количество операндов.
- Операции выполняются нормированно!

В операции деления может участвовать 4 слова:
- 2 исходных (делимое, делитель)
- 2 результирующий (частное, остаток)

Операнды умещаются в правильно заданном порядке, что тоже важно!

Результат не всегда пишут на краю ленты.
- Но дело в том, что (U,V) — скопировали, поэтому операнды операций можно затирать, ведь они являются копиями.
- Тогда ничего не ломается!

Место для операндов фиксировано, чтобы не бежать за ними на край ленты.
`R-лента` — фиксированная лента, или регистровый файл.

Результаты сбрасываются на хранение, используются копии, а регистры ещё и многоразовые.
- Слова в хранилище ***только хранятся***. Они не операбельны. Для оперирования их нужно вызвать!

> Регистр — лента операций или рабочая память?

5-ая степень строки — значит *записать 5 раз*

## Построение вычислительного процессора:

1) Рассматриваем алгебраическую составляющую
2) Фиксируем множество допустимых и правильных слов (для процессора 1 и 0) (64 единицы — 64 бита максимум, больше невозможно)
Один из вариантов фиксации — ввести символ переноса (штопор, боттом _|_), тогда можно использовать 1000 слов.
3) Взять алгебру и запрограммировать на это МТ.
4) Зашить на d-lent'у

Здесь надо сказать, что МТ, не прошитая операциями, малополезна.

Фон Нейман утверждает, что одного процессора недостаточно. Эффективнее, когда их несколько, тогда не нужно опускаться на уровень Тьюринга.
- Машина фон Неймана — тоже абстрактная модель, как и МТ.

Процессоры знакомятся через регистры.

Набор многих процессоров, согласованных друг с другом, называют процессором фон Неймана.


(до 121 страницы)



